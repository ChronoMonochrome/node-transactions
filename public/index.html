<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="ngmkdev">
<head>
    <!-- META -->
    <meta charset="utf-8">
    <title>ngmkdev</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- SCROLLS -->
    <link rel="stylesheet" href="/scripts/angular-toastr/dist/angular-toastr.min.css" />
    <link rel="stylesheet" href="/scripts/animate.css/animate.min.css" />
    <link rel="stylesheet" href="/css/index.min.css" />

    <!-- SPELLS -->

<!--	
	<script src="js/controllers/main.js"></script> <!- - load up our controller - ->
	<script src="js/services/todos.js"></script> <!- - load our todo service - ->
	<script src="js/core.js"></script> <!- - load our main application - ->
-->

</head>
<body>
    <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

<div class="container">
  <!-- SET THE CONTROLLER -->
  <div class="col-xs-2" ng-controller="NavigationController as navigation_ctrl">
    <h2>Деньги</h2>
    <h3 class="money-ok">
      500.0
    </h3>
    <ul class="nav nav-pills nav-stacked">
      <li>
        <a ui-sref="transactions">
          <i class="glyphicon glyphicon-th-list"></i>
          Транзакции <span class="badge">{{navigation_ctrl.transactions.length}}</span>
          <br>
          Выделен <span class="badge">{{navigation_ctrl.getSelected()}}</span>
        </a>
      </li>
      <li>
        <a ui-sref="settings">
          <i class="glyphicon glyphicon-tasks"></i> Настройки
        </a>
      </li>
    </ul>
  </div>


  <div class="col-xs-6" ng-controller="TransactionsController as transactions_ctrl">
    <h2>Транзакции</h2>

    <form class="form-inline" ng-submit="transactions_ctrl.addTransaction()">
     <div class="form-group">
      <div class="input-group">
        <div class="input-group-addon">$</div>
        <input class="form-control"
               type="text"
               placeholder="Сумма"
               ng-model="transactions_ctrl.newTransaction.amount">
      </div>
     </div>
     <div class="form-group">
      <label class="sr-only"></label>
      <input type="text" 
             class="form-control"
             placeholder="Описание"
             ng-model="transactions_ctrl.newTransaction.description">
     </div>
     <button type="submit" class="btn btn-default">Добавить</button>
    </form>

  <br>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Сумма</th>
        <th>Дата</th>
        <th>Описание</th>
        <th>Действия</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="transaction in transactions_ctrl.transactions">
        <td>{{transaction.amount}}</td>
        <td>{{transaction.date}}</td>
        <td>{{transaction.description}}</td>
        <td>
           <form class="form-inline" ng-submit="transactions_ctrl.removeTransaction(transaction, $index)">
              <button type="submit" class="btn btn-default">[x]</button>
            </form>
        </td>
      </tr>
    </tbody>
  </table>
  <!-- Выделен <span class="badge">{{transactions_ctrl.selected}}</span> -->
  </div>

<!--
 <div class="col-xs-6" ui-view></div>
-->

</div>


    <script src="js/bundle.js"></script>
    <script src="js/core.js"></script> <!- - load our main application - ->
<!--
    <script src="/app/index.module.js"></script>
-->
    <script src="/app/components/webDevTec/webDevTec.service.js"></script>
    <script src="/app/components/navbar/transactions_store.service.js"></script>
    <script src="/app/components/malarkey/malarkey.directive.js"></script>
    <script src="/app/components/githubContributor/githubContributor.service.js"></script>
    <script src="/app/main/transactions.controller.js"></script>
    <script src="/app/main/navigation.controller.js"></script>
<!--
    <script src="/app/index.run.js"></script>
    <script src="/app/index.route.js"></script>
    <script src="/app/index.constants.js"></script>
    <script src="/app/index.config.js"></script>
-->

</body>
</html>
